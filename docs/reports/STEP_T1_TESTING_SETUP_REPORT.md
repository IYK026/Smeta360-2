# üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï SMETA360 - –®–ê–ì T1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç

## ‚úÖ **–†–ï–ó–£–õ–¨–¢–ê–¢: –ì–û–¢–û–í–û**

### üì¶ **1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:**

#### –Æ–Ω–∏—Ç/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
```bash
npm i -D vitest supertest @types/supertest
```
- **vitest** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–±—ã—Å—Ç—Ä–µ–µ Jest, –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ESM/Vite)
- **supertest** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Express API
- **@types/supertest** - —Ç–∏–ø—ã TypeScript –¥–ª—è supertest

#### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```bash
npm i -D @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

### ‚öôÔ∏è **2. –°–∫—Ä–∏–ø—Ç—ã –≤ package.json:**
```json
{
  "scripts": {
    "test": "vitest run",
    "test:ui": "vitest", 
    "test:watch": "vitest --watch",
    "test:backend": "vitest run tests/backend",
    "test:frontend": "vitest run tests/frontend"
  }
}
```

### üîß **3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

#### `vitest.config.js`:
- Environment: `node` (–¥–ª—è backend —Ç–µ—Å—Ç–æ–≤)
- Globals: –≤–∫–ª—é—á–µ–Ω—ã
- Setup file: `vitest.setup.js`

#### `vitest.setup.js`:
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫—ç—à–∞ –≤ —Ç–µ—Å—Ç–∞—Ö (`CACHE_ENABLED=false`)
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤: `error` 
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### üìÅ **4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:**
```
tests/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ health.test.js    ‚úÖ –¢–µ—Å—Ç—ã health endpoints
‚îÇ   ‚îî‚îÄ‚îÄ api.test.js       ‚úÖ –¢–µ—Å—Ç—ã API endpoints
‚îî‚îÄ‚îÄ frontend/             üìÅ –ì–æ—Ç–æ–≤–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ—Å—Ç–æ–≤
```

### üéØ **5. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

#### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ app –∏ server:
- **`server/index.js`** - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Express app (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- **`server/start.js`** - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (–¥–ª—è production)
- **package.json** - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è start.js

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å app –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Ä—Ç–æ–≤ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### ‚úÖ **6. –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã:**

#### Health endpoint —Ç–µ—Å—Ç—ã:
```javascript
‚úì GET /api/health returns 200 and basic payload
‚úì GET /api/health/db returns database status
```

#### API endpoint —Ç–µ—Å—Ç—ã:
```javascript
‚úì GET /api/statistics returns array
‚úì GET /api/orders returns array  
‚úì GET /metrics returns prometheus metrics
```

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—É—Å–∫–∞:**
```
Test Files  2 passed (2)
Tests      5 passed (5)
Duration   5.90s
```

### üîë **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –®–ê–ì T1:**

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å |
|----------|---------|
| ‚úÖ –ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã | **–ì–û–¢–û–í–û** |
| ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã | **–ì–û–¢–û–í–û** |
| ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç app –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ listen | **–ì–û–¢–û–í–û** |
| ‚úÖ –¢–µ—Å—Ç Health endpoint –ø—Ä–æ—Ö–æ–¥–∏—Ç | **–ì–û–¢–û–í–û** |
| ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API —Ç–µ—Å—Ç—ã | **–ì–û–¢–û–í–û** |

---

## üöÄ **–®–ê–ì T1 –ó–ê–í–ï–†–®–ï–ù - –ì–û–¢–û–í–û –î–õ–Ø STEP T2!**

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- üß™ **Vitest** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- üîó **Supertest** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - backend/frontend —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
- ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç** - 5/5 —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞** - app —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞